# üõ†Ô∏è –î–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ Beauty Salon E-commerce —Å –Ω—É–ª—è.

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-supabase)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ PayPal](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-paypal)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Stripe](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-stripe)
- [–õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫](#–ª–æ–∫–∞–ª—å–Ω—ã–π-–∑–∞–ø—É—Å–∫)
- [–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏](#–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ-—Ç–µ—Å—Ç–æ–≤—ã–º–∏-–¥–∞–Ω–Ω—ã–º–∏)

---

## üîß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js

**macOS (—á–µ—Ä–µ–∑ Homebrew):**
```bash
brew install node@20
```

**Windows (—á–µ—Ä–µ–∑ installer):**
1. –°–∫–∞—á–∞–π—Ç–µ installer —Å [nodejs.org](https://nodejs.org/)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª

**Linux (Ubuntu/Debian):**
```bash
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt-get install -y nodejs
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
```bash
node --version  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 20.0.0
npm --version   # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 10.0.0
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Git

**macOS:**
```bash
brew install git
```

**Windows:**
–°–∫–∞—á–∞–π—Ç–µ —Å [git-scm.com](https://git-scm.com/download/win)

**Linux:**
```bash
sudo apt-get install git
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
git --version
```

### 3. –í—ã–±–æ—Ä IDE/–†–µ–¥–∞–∫—Ç–æ—Ä–∞

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º **VS Code** —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏:

1. –°–∫–∞—á–∞–π—Ç–µ [VS Code](https://code.visualstudio.com/)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:
   - **ESLint** - –õ–∏–Ω—Ç–∏–Ω–≥
   - **Prettier** - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
   - **Tailwind CSS IntelliSense** - Autocomplete –¥–ª—è Tailwind
   - **TypeScript and JavaScript Language Features** - TypeScript –ø–æ–¥–¥–µ—Ä–∂–∫–∞

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
# HTTPS
git clone https://github.com/your-username/beauty-salon-shop.git

# –∏–ª–∏ SSH
git clone git@github.com:your-username/beauty-salon-shop.git

# –ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd beauty-salon-shop
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö npm –ø–∞–∫–µ—Ç–æ–≤
npm install

# –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –æ—à–∏–±–∫–∏ peer dependencies:
npm install --legacy-peer-deps
```

**–í—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏:** ~2-5 –º–∏–Ω—É—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è:
ls node_modules/  # –ü–∞–ø–∫–∞ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
ls package-lock.json  # Lockfile
```

---

## üóÑÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [app.supabase.com](https://app.supabase.com)
2. –ù–∞–∂–º–∏—Ç–µ "New Project"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **Organization**: –í—ã–±–µ—Ä–∏—Ç–µ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ
   - **Name**: `beauty-salon-shop`
   - **Database Password**: –°–æ–∑–¥–∞–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å (—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ!)
   - **Region**: –í—ã–±–µ—Ä–∏—Ç–µ –±–ª–∏–∂–∞–π—à–∏–π –∫ –≤–∞—à–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
   - **Pricing Plan**: Free (–¥–ª—è –Ω–∞—á–∞–ª–∞)
4. –ù–∞–∂–º–∏—Ç–µ "Create new project"

**–í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è:** ~2 –º–∏–Ω—É—Ç—ã

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π

1. –í –ø—Ä–æ–µ–∫—Ç–µ –ø–µ—Ä–µ–π–¥–∏—Ç–µ: **Settings** ‚Üí **API**
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   ```
   Project URL ‚Üí NEXT_PUBLIC_SUPABASE_URL
   anon public ‚Üí NEXT_PUBLIC_SUPABASE_ANON_KEY
   service_role ‚Üí SUPABASE_SERVICE_ROLE_KEY
   ```

‚ö†Ô∏è **service_role** - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á! –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–µ–ª–∏—Ç–µ—Å—å –∏–º.

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor**
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π query
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü—ã:

**profiles:**
```sql
CREATE TABLE profiles (
    id UUID PRIMARY KEY REFERENCES auth.users(id) ON DELETE CASCADE,
    email TEXT,
    full_name TEXT,
    role TEXT DEFAULT 'user' CHECK (role IN ('user', 'admin')),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

CREATE INDEX idx_profiles_email ON profiles(email);
CREATE INDEX idx_profiles_role ON profiles(role);
```

**products:**
```sql
CREATE TABLE products (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name TEXT NOT NULL,
    slug TEXT UNIQUE NOT NULL,
    description TEXT,
    price DECIMAL(10, 2) NOT NULL CHECK (price >= 0),
    compare_at_price DECIMAL(10, 2) CHECK (compare_at_price >= 0),
    images TEXT[] DEFAULT '{}',
    category TEXT NOT NULL,
    brand TEXT,
    in_stock BOOLEAN DEFAULT TRUE,
    stock_quantity INTEGER DEFAULT 0 CHECK (stock_quantity >= 0),
    tags TEXT[] DEFAULT '{}',
    rating DECIMAL(3, 2) CHECK (rating >= 0 AND rating <= 5),
    review_count INTEGER DEFAULT 0 CHECK (review_count >= 0),
    attributes JSONB DEFAULT '{}',
    size TEXT,
    featured BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

CREATE INDEX idx_products_category ON products(category);
CREATE INDEX idx_products_slug ON products(slug);
CREATE INDEX idx_products_in_stock ON products(in_stock);
CREATE INDEX idx_products_featured ON products(featured);
```

**orders:**
```sql
CREATE TABLE orders (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    order_number TEXT UNIQUE NOT NULL,
    user_id UUID REFERENCES profiles(id) ON DELETE SET NULL,
    email TEXT NOT NULL,
    phone TEXT NOT NULL,
    first_name TEXT NOT NULL,
    last_name TEXT NOT NULL,
    street TEXT NOT NULL,
    house_number TEXT NOT NULL,
    postal_code TEXT NOT NULL,
    city TEXT NOT NULL,
    subtotal DECIMAL(10, 2) NOT NULL CHECK (subtotal >= 0),
    shipping DECIMAL(10, 2) NOT NULL CHECK (shipping >= 0),
    total DECIMAL(10, 2) NOT NULL CHECK (total >= 0),
    delivery_method TEXT NOT NULL,
    payment_method TEXT NOT NULL CHECK (payment_method IN ('paypal', 'stripe', 'cash')),
    payment_status TEXT DEFAULT 'pending' CHECK (payment_status IN ('pending', 'paid', 'failed', 'refunded')),
    status TEXT DEFAULT 'pending' CHECK (status IN ('pending', 'processing', 'shipped', 'delivered', 'cancelled')),
    notes TEXT,
    paypal_order_id TEXT,
    stripe_payment_intent_id TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

CREATE INDEX idx_orders_user_id ON orders(user_id);
CREATE INDEX idx_orders_email ON orders(email);
CREATE INDEX idx_orders_order_number ON orders(order_number);
CREATE INDEX idx_orders_payment_status ON orders(payment_status);
CREATE INDEX idx_orders_status ON orders(status);
CREATE INDEX idx_orders_created_at ON orders(created_at DESC);
```

**order_items:**
```sql
CREATE TABLE order_items (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    order_id UUID NOT NULL REFERENCES orders(id) ON DELETE CASCADE,
    product_id UUID REFERENCES products(id) ON DELETE SET NULL,
    product_name TEXT NOT NULL,
    product_price DECIMAL(10, 2) NOT NULL CHECK (product_price >= 0),
    quantity INTEGER NOT NULL CHECK (quantity > 0),
    total DECIMAL(10, 2) NOT NULL CHECK (total >= 0),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

CREATE INDEX idx_order_items_order_id ON order_items(order_id);
CREATE INDEX idx_order_items_product_id ON order_items(product_id);
```

**shop_settings:**
```sql
CREATE TABLE shop_settings (
    id TEXT PRIMARY KEY DEFAULT 'default',
    shop_name TEXT DEFAULT 'Beauty Salon Shop',
    shop_subtitle TEXT,
    support_email TEXT,
    support_phone TEXT,
    address_line TEXT,
    postal_code TEXT,
    city TEXT,
    country TEXT DEFAULT 'Deutschland',
    default_currency TEXT DEFAULT 'EUR',
    free_shipping_from DECIMAL(10, 2),
    tax_rate DECIMAL(5, 2) DEFAULT 19.00,
    homepage_hero_text TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

INSERT INTO shop_settings (id) VALUES ('default') ON CONFLICT DO NOTHING;
```

#### –®–∞–≥ 2: –í–∫–ª—é—á–µ–Ω–∏–µ RLS

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ SQL Editor:

```sql
-- –í–∫–ª—é—á–∞–µ–º RLS –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;
ALTER TABLE products ENABLE ROW LEVEL SECURITY;
ALTER TABLE orders ENABLE ROW LEVEL SECURITY;
ALTER TABLE order_items ENABLE ROW LEVEL SECURITY;
ALTER TABLE shop_settings ENABLE ROW LEVEL SECURITY;

-- –ü–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è products
CREATE POLICY "Anyone can view products"
    ON products FOR SELECT TO PUBLIC USING (true);

CREATE POLICY "Admins can manage products"
    ON products FOR ALL
    USING (
        EXISTS (SELECT 1 FROM profiles WHERE id = auth.uid() AND role = 'admin')
    );

-- –ü–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è orders
CREATE POLICY "Users can view own orders"
    ON orders FOR SELECT
    USING (
        auth.uid() = user_id
        OR email = (SELECT email FROM auth.users WHERE id = auth.uid())
    );

CREATE POLICY "Admins can view all orders"
    ON orders FOR SELECT
    USING (
        EXISTS (SELECT 1 FROM profiles WHERE id = auth.uid() AND role = 'admin')
    );

CREATE POLICY "Admins can update orders"
    ON orders FOR UPDATE
    USING (
        EXISTS (SELECT 1 FROM profiles WHERE id = auth.uid() AND role = 'admin')
    );

-- –ü–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è order_items
CREATE POLICY "Users can view own order items"
    ON order_items FOR SELECT
    USING (
        EXISTS (
            SELECT 1 FROM orders
            WHERE orders.id = order_items.order_id
            AND (orders.user_id = auth.uid() OR orders.email = (SELECT email FROM auth.users WHERE id = auth.uid()))
        )
    );

CREATE POLICY "Admins can view all order items"
    ON order_items FOR SELECT
    USING (
        EXISTS (SELECT 1 FROM profiles WHERE id = auth.uid() AND role = 'admin')
    );

-- –ü–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è settings
CREATE POLICY "Anyone can view settings"
    ON shop_settings FOR SELECT TO PUBLIC USING (true);

CREATE POLICY "Admins can update settings"
    ON shop_settings FOR UPDATE
    USING (
        EXISTS (SELECT 1 FROM profiles WHERE id = auth.uid() AND role = 'admin')
    );
```

#### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤

```sql
-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
CREATE OR REPLACE FUNCTION public.handle_new_user()
RETURNS TRIGGER AS $$
BEGIN
    INSERT INTO public.profiles (id, email, full_name)
    VALUES (
        NEW.id,
        NEW.email,
        COALESCE(NEW.raw_user_meta_data->>'full_name', '')
    );
    RETURN NEW;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

CREATE TRIGGER on_auth_user_created
    AFTER INSERT ON auth.users
    FOR EACH ROW
    EXECUTE FUNCTION public.handle_new_user();

-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ updated_at
CREATE OR REPLACE FUNCTION update_updated_at_column()
RETURNS TRIGGER AS $$
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER update_profiles_updated_at
    BEFORE UPDATE ON profiles
    FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();

CREATE TRIGGER update_products_updated_at
    BEFORE UPDATE ON products
    FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();

CREATE TRIGGER update_orders_updated_at
    BEFORE UPDATE ON orders
    FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();

CREATE TRIGGER update_shop_settings_updated_at
    BEFORE UPDATE ON shop_settings
    FOR EACH ROW EXECUTE FUNCTION update_updated_at_column();
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **Authentication** ‚Üí **Providers**
2. –í–∫–ª—é—á–∏—Ç–µ **Email** provider
3. –í **URL Configuration** –¥–æ–±–∞–≤—å—Ç–µ:
   - **Site URL**: `http://localhost:3000`
   - **Redirect URLs**: `http://localhost:3000/**`

### 5. –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ SQL (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```sql
-- –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
INSERT INTO auth.users (
  email,
  encrypted_password,
  email_confirmed_at,
  raw_user_meta_data
)
VALUES (
  'admin@example.com',
  crypt('YourSecurePassword123', gen_salt('bf')),
  NOW(),
  '{"full_name": "Admin User"}'::jsonb
);

-- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–æ–ª—å admin
UPDATE profiles
SET role = 'admin'
WHERE email = 'admin@example.com';
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ UI**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –ª–æ–∫–∞–ª—å–Ω–æ (—Å–º. –Ω–∏–∂–µ)
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ `/auth/register`
3. –í Supabase SQL Editor –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```sql
UPDATE profiles
SET role = 'admin'
WHERE email = '–≤–∞—à@email.com';
```

---

## üí≥ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PayPal

### 1. –°–æ–∑–¥–∞–Ω–∏–µ Developer –∞–∫–∫–∞—É–Ω—Ç–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [developer.paypal.com](https://developer.paypal.com)
2. –í–æ–π–¥–∏—Ç–µ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Dashboard

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. Dashboard ‚Üí **Apps & Credentials**
2. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ **Sandbox** (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
3. –ù–∞–∂–º–∏—Ç–µ **Create App**
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **App Name**: `Beauty Salon Shop`
   - **App Type**: Merchant
5. –ù–∞–∂–º–∏—Ç–µ **Create App**

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π

–í —Ä–∞–∑–¥–µ–ª–µ App Details —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ:
- **Client ID** ‚Üí `NEXT_PUBLIC_PAYPAL_CLIENT_ID`
- **Secret** ‚Üí `PAYPAL_CLIENT_SECRET`

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhooks

1. –í App Details ‚Üí **Webhooks** ‚Üí **Add Webhook**
2. **Webhook URL**: `http://localhost:3000/api/webhooks/paypal` (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
3. –í—ã–±–µ—Ä–∏—Ç–µ —Å–æ–±—ã—Ç–∏—è:
   - ‚úÖ `CHECKOUT.ORDER.APPROVED`
   - ‚úÖ `PAYMENT.CAPTURE.COMPLETED`
   - ‚úÖ `PAYMENT.CAPTURE.DENIED`
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ **Webhook ID** ‚Üí `PAYPAL_WEBHOOK_ID`

**–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞** –∑–∞–º–µ–Ω–∏—Ç–µ URL –Ω–∞ `https://yourdomain.com/api/webhooks/paypal`

---

## üí∞ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Stripe

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [dashboard.stripe.com/register](https://dashboard.stripe.com/register)
2. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–∏–∑–Ω–µ—Å–µ

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π

1. Dashboard ‚Üí **Developers** ‚Üí **API keys**
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ **Test mode** –≤–∫–ª—é—á–µ–Ω
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - **Publishable key** ‚Üí `NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY`
   - **Secret key** ‚Üí `STRIPE_SECRET_KEY`

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhooks

1. Developers ‚Üí **Webhooks** ‚Üí **Add endpoint**
2. **Endpoint URL**: `http://localhost:3000/api/webhooks/stripe`
3. –í—ã–±–µ—Ä–∏—Ç–µ —Å–æ–±—ã—Ç–∏—è:
   - ‚úÖ `payment_intent.succeeded`
   - ‚úÖ `payment_intent.payment_failed`
4. –î–æ–±–∞–≤—å—Ç–µ endpoint
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Signing secret** ‚Üí `STRIPE_WEBHOOK_SECRET`

### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Stripe CLI (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

**macOS:**
```bash
brew install stripe/stripe-cli/stripe
```

**Windows:**
–°–∫–∞—á–∞–π—Ç–µ —Å [github.com/stripe/stripe-cli](https://github.com/stripe/stripe-cli/releases)

**Linux:**
```bash
wget https://github.com/stripe/stripe-cli/releases/download/v1.17.3/stripe_1.17.3_linux_x86_64.tar.gz
tar -xvf stripe_1.17.3_linux_x86_64.tar.gz
sudo mv stripe /usr/local/bin/
```

**–õ–æ–≥–∏–Ω:**
```bash
stripe login
```

---

## üöÄ –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

### 1. –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞

```bash
# –°–æ–∑–¥–∞–π—Ç–µ .env –∏–∑ –ø—Ä–∏–º–µ—Ä–∞
cp .env.example .env
```

### 2. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

–û—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –ø–æ–ª—É—á–∏–ª–∏ –≤—ã—à–µ:

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJ...
SUPABASE_SERVICE_ROLE_KEY=eyJ...

# PayPal
NEXT_PUBLIC_PAYPAL_CLIENT_ID=AY...
PAYPAL_CLIENT_SECRET=EL...
PAYPAL_MODE=sandbox
PAYPAL_WEBHOOK_ID=WH-...

# Stripe
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# App
NEXT_PUBLIC_APP_URL=http://localhost:3000
NODE_ENV=development
```

### 3. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 - Next.js:**
```bash
npm run dev
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 - Stripe CLI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
```bash
stripe listen --forward-to localhost:3000/api/webhooks/stripe
```

### 4. –û—Ç–∫—Ä—ã—Ç–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [http://localhost:3000](http://localhost:3000)

‚úÖ –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –º–∞–≥–∞–∑–∏–Ω–∞!

---

## üìä –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### 1. –ß–µ—Ä–µ–∑ SQL Editor

```sql
-- –ü—Ä–∏–º–µ—Ä —Ç–æ–≤–∞—Ä–∞
INSERT INTO products (name, slug, description, price, category, images, in_stock, stock_quantity)
VALUES (
  'Hydrating Face Cream',
  'hydrating-face-cream',
  'Luxurious face cream with hyaluronic acid',
  29.99,
  'skincare',
  ARRAY['https://example.com/image1.jpg'],
  true,
  50
);
```

### 2. –ß–µ—Ä–µ–∑ Admin –ø–∞–Ω–µ–ª—å

1. –ó–∞–π–¥–∏—Ç–µ –∫–∞–∫ admin: [http://localhost:3000/auth/login](http://localhost:3000/auth/login)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Admin –ø–∞–Ω–µ–ª—å: [http://localhost:3000/admin](http://localhost:3000/admin)
3. –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä"
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ

### 3. –ú–∞—Å—Å–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `scripts/seed.ts`:

```typescript
import { createClient } from '@supabase/supabase-js';

const supabase = createClient(
  process.env.NEXT_PUBLIC_SUPABASE_URL!,
  process.env.SUPABASE_SERVICE_ROLE_KEY!
);

const products = [
  {
    name: 'Product 1',
    slug: 'product-1',
    description: 'Description 1',
    price: 29.99,
    category: 'skincare',
    images: ['url1'],
    in_stock: true,
    stock_quantity: 10,
  },
  // ... –±–æ–ª—å—à–µ —Ç–æ–≤–∞—Ä–æ–≤
];

async function seed() {
  const { error } = await supabase.from('products').insert(products);
  if (error) console.error(error);
  else console.log('‚úÖ Products seeded!');
}

seed();
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
npx ts-node scripts/seed.ts
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### Checklist

- [ ] Node.js –∏ npm —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –ü—Ä–æ–µ–∫—Ç –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (`npm install`)
- [ ] Supabase –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ (—Ç–∞–±–ª–∏—Ü—ã, RLS, —Ç—Ä–∏–≥–≥–µ—Ä—ã)
- [ ] PayPal –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ
- [ ] Stripe –∞–∫–∫–∞—É–Ω—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] `.env` —Ñ–∞–π–ª –∑–∞–ø–æ–ª–Ω–µ–Ω
- [ ] –ü—Ä–æ–µ–∫—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è (`npm run dev`)
- [ ] –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] Admin –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω
- [ ] –ú–æ–∂–Ω–æ –∑–∞–π—Ç–∏ –≤ admin –ø–∞–Ω–µ–ª—å

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π environment –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã —á–µ—Ä–µ–∑ admin –ø–∞–Ω–µ–ª—å
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ checkout –ø—Ä–æ—Ü–µ—Å—Å
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–ø–ª–∞—Ç—É —á–µ—Ä–µ–∑ PayPal Sandbox
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–ø–ª–∞—Ç—É —á–µ—Ä–µ–∑ Stripe Test Mode
5. –ò–∑—É—á–∏—Ç–µ –∫–æ–¥ –∏ –Ω–∞—á–Ω–∏—Ç–µ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—é

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev

# Production build
npm run build

# –ó–∞–ø—É—Å–∫ production build
npm start

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
npm run type-check

# –õ–∏–Ω—Ç–∏–Ω–≥
npm run lint

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω Prettier)
npm run format
```

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [README.md](../README.md) - –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
- [DATABASE.md](./DATABASE.md) - –ü–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞ –ë–î
- [API.md](./API.md) - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [DEPLOYMENT.md](./DEPLOYMENT.md) - –î–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω
- [TROUBLESHOOTING.md](./TROUBLESHOOTING.md) - –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º